==21993== Memcheck, a memory error detector
==21993== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
==21993== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright info
==21993== Command: ./a.o
==21993== 
--21993-- Valgrind options:
--21993--    --suppressions=/usr/lib/valgrind/debian-libc6-dbg.supp
--21993--    -v
--21993--    --error-limit=no
--21993--    --leak-check=yes
--21993--    --show-reachable=no
--21993-- Contents of /proc/version:
--21993--   Linux version 3.2.0-24-generic (buildd@vernadsky) (gcc version 4.6.3 (Ubuntu/Linaro 4.6.3-1ubuntu5) ) #37-Ubuntu SMP Wed Apr 25 08:43:52 UTC 2012
--21993-- Arch and hwcaps: X86, x86-sse1-sse2
--21993-- Page sizes: currently 4096, max supported 4096
--21993-- Valgrind library directory: /usr/lib/valgrind
--21993-- Reading syms from /lib/i386-linux-gnu/ld-2.15.so (0x4000000)
--21993--   Considering /lib/i386-linux-gnu/ld-2.15.so ..
--21993--   .. CRC mismatch (computed 09ddbdc7 wanted 04f66776)
--21993--   Considering /usr/lib/debug/lib/i386-linux-gnu/ld-2.15.so ..
--21993--   .. CRC is valid
--21993-- Reading syms from /home/juiz/NGINXLUA/modules/a.o (0x8048000)
--21993-- Reading syms from /usr/lib/valgrind/memcheck-x86-linux (0x38000000)
--21993--   Considering /usr/lib/valgrind/memcheck-x86-linux ..
--21993--   .. CRC mismatch (computed 2a2bce46 wanted 9ac1affc)
--21993--    object doesn't have a symbol table
--21993--    object doesn't have a dynamic symbol table
--21993-- Reading suppressions file: /usr/lib/valgrind/debian-libc6-dbg.supp
--21993-- Reading suppressions file: /usr/lib/valgrind/default.supp
==21993== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-21993-by-root-on-???
==21993== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-21993-by-root-on-???
==21993== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-21993-by-root-on-???
==21993== 
==21993== TO CONTROL THIS PROCESS USING vgdb (which you probably
==21993== don't want to do, unless you know exactly what you're doing,
==21993== or are doing some strange experiment):
==21993==   /usr/lib/valgrind/../../bin/vgdb --pid=21993 ...command...
==21993== 
==21993== TO DEBUG THIS PROCESS USING GDB: start GDB like this
==21993==   /path/to/gdb ./a.o
==21993== and then give GDB the following command
==21993==   target remote | /usr/lib/valgrind/../../bin/vgdb --pid=21993
==21993== --pid is optional if only one valgrind process is running
==21993== 
--21993-- REDIR: 0x40182e0 (strlen) redirected to 0x38056b04 (???)
--21993-- REDIR: 0x4018060 (index) redirected to 0x38056adf (???)
--21993-- Reading syms from /usr/lib/valgrind/vgpreload_core-x86-linux.so (0x4025000)
--21993--   Considering /usr/lib/valgrind/vgpreload_core-x86-linux.so ..
--21993--   .. CRC mismatch (computed 33f4d79f wanted ac058c14)
--21993--    object doesn't have a symbol table
--21993-- Reading syms from /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so (0x4028000)
--21993--   Considering /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so ..
--21993--   .. CRC mismatch (computed 8c6a0645 wanted b38afa17)
--21993--    object doesn't have a symbol table
--21993-- Reading syms from /usr/lib/i386-linux-gnu/libdb_cxx-5.1.so (0x4049000)
--21993--   Considering /usr/lib/i386-linux-gnu/libdb_cxx-5.1.so ..
--21993--   .. CRC mismatch (computed d99dfc91 wanted 98585b69)
--21993--    object doesn't have a symbol table
--21993-- Reading syms from /usr/lib/i386-linux-gnu/libstdc++.so.6.0.18 (0x41f0000)
--21993--   Considering /usr/lib/i386-linux-gnu/libstdc++.so.6.0.18 ..
--21993--   .. CRC mismatch (computed e6b81c3e wanted a10f3efc)
--21993--    object doesn't have a symbol table
--21993-- Reading syms from /lib/i386-linux-gnu/libgcc_s.so.1 (0x42d9000)
--21993--   Considering /lib/i386-linux-gnu/libgcc_s.so.1 ..
--21993--   .. CRC mismatch (computed 85e3a2fa wanted d17c06fa)
--21993--    object doesn't have a symbol table
--21993-- Reading syms from /lib/i386-linux-gnu/libc-2.15.so (0x42f6000)
--21993--   Considering /lib/i386-linux-gnu/libc-2.15.so ..
--21993--   .. CRC mismatch (computed 6113f73e wanted a5003911)
--21993--   Considering /usr/lib/debug/lib/i386-linux-gnu/libc-2.15.so ..
--21993--   .. CRC is valid
--21993-- Reading syms from /lib/i386-linux-gnu/libpthread-2.15.so (0x449f000)
--21993--   Considering /lib/i386-linux-gnu/libpthread-2.15.so ..
--21993--   .. CRC mismatch (computed e3e38d22 wanted 86ccdb6e)
--21993--   Considering /usr/lib/debug/lib/i386-linux-gnu/libpthread-2.15.so ..
--21993--   .. CRC is valid
--21993-- Reading syms from /lib/i386-linux-gnu/libm-2.15.so (0x44bb000)
--21993--   Considering /lib/i386-linux-gnu/libm-2.15.so ..
--21993--   .. CRC mismatch (computed 6ee9373d wanted 98815fe2)
--21993--   Considering /usr/lib/debug/lib/i386-linux-gnu/libm-2.15.so ..
--21993--   .. CRC is valid
--21993-- REDIR: 0x4374010 (strnlen) redirected to 0x40254a0 (_vgnU_ifunc_wrapper)
--21993-- REDIR: 0x4375560 (strncasecmp) redirected to 0x40254a0 (_vgnU_ifunc_wrapper)
--21993-- REDIR: 0x438d050 (strstr) redirected to 0x40254a0 (_vgnU_ifunc_wrapper)
--21993-- REDIR: 0x438cc90 (__GI_strstr) redirected to 0x402f030 (strstr)
--21993-- REDIR: 0x43741b0 (__GI_strrchr) redirected to 0x402c1b0 (__GI_strrchr)
--21993-- REDIR: 0x4373f50 (__GI_strlen) redirected to 0x402c670 (__GI_strlen)
--21993-- REDIR: 0x4373760 (strcmp) redirected to 0x40254a0 (_vgnU_ifunc_wrapper)
--21993-- REDIR: 0x4434b90 (__strcmp_ssse3) redirected to 0x402d280 (strcmp)
--21993-- REDIR: 0x423aaa0 (operator new(unsigned int)) redirected to 0x402b950 (operator new(unsigned int))
--21993-- REDIR: 0x436fd80 (malloc) redirected to 0x402be00 (malloc)
--21993-- REDIR: 0x4375030 (memset) redirected to 0x40254a0 (_vgnU_ifunc_wrapper)
--21993-- REDIR: 0x442a480 (__memset_sse2) redirected to 0x402e880 (memset)
--21993-- REDIR: 0x4373f00 (strlen) redirected to 0x40254a0 (_vgnU_ifunc_wrapper)
--21993-- REDIR: 0x437a740 (__strlen_sse2_bsf) redirected to 0x402c650 (strlen)
--21993-- REDIR: 0x43756f0 (memcpy) redirected to 0x40254a0 (_vgnU_ifunc_wrapper)
--21993-- REDIR: 0x442b590 (__memcpy_ssse3) redirected to 0x402d930 (memcpy)
--21993-- REDIR: 0x4373550 (index) redirected to 0x40254a0 (_vgnU_ifunc_wrapper)
--21993-- REDIR: 0x438b7e0 (__strchr_sse2_bsf) redirected to 0x402c280 (index)
--21993-- REDIR: 0x4370260 (free) redirected to 0x402b000 (free)
--21993-- REDIR: 0x4376880 (strchrnul) redirected to 0x402ebe0 (strchrnul)
--21993-- REDIR: 0x4374c40 (bcmp) redirected to 0x40254a0 (_vgnU_ifunc_wrapper)
--21993-- REDIR: 0x443ca70 (__memcmp_ssse3) redirected to 0x402e460 (bcmp)
found hikaru
nemui hikaru
--21993-- REDIR: 0x4238a30 (operator delete(void*)) redirected to 0x402ac90 (operator delete(void*))
==21993== Mismatched free() / delete / delete []
==21993==    at 0x402ACFC: operator delete(void*) (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==21993==    by 0x804C567: std::_Sp_counted_ptr<char*, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (in /home/juiz/NGINXLUA/modules/a.o)
==21993==    by 0x804C30B: std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() (in /home/juiz/NGINXLUA/modules/a.o)
==21993==    by 0x804C271: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::~__shared_count() (in /home/juiz/NGINXLUA/modules/a.o)
==21993==    by 0x804C077: std::__shared_ptr<char, (__gnu_cxx::_Lock_policy)2>::~__shared_ptr() (in /home/juiz/NGINXLUA/modules/a.o)
==21993==    by 0x804C09A: std::shared_ptr<char>::~shared_ptr() (in /home/juiz/NGINXLUA/modules/a.o)
==21993==    by 0x804BCF8: main (in /home/juiz/NGINXLUA/modules/a.o)
==21993==  Address 0x44ec8d0 is 0 bytes inside a block of size 65,536 alloc'd
==21993==    at 0x402BE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==21993==    by 0x804BE09: C::Berkley::_allocHeap() (in /home/juiz/NGINXLUA/modules/a.o)
==21993==    by 0x804C0E0: C::Berkley::get(char const*) (in /home/juiz/NGINXLUA/modules/a.o)
==21993==    by 0x804BCA7: main (in /home/juiz/NGINXLUA/modules/a.o)
==21993== 
==21993== 
==21993== HEAP SUMMARY:
==21993==     in use at exit: 0 bytes in 0 blocks
==21993==   total heap usage: 68 allocs, 68 frees, 77,206 bytes allocated
==21993== 
==21993== All heap blocks were freed -- no leaks are possible
==21993== 
==21993== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)
==21993== 
==21993== 1 errors in context 1 of 1:
==21993== Mismatched free() / delete / delete []
==21993==    at 0x402ACFC: operator delete(void*) (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==21993==    by 0x804C567: std::_Sp_counted_ptr<char*, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (in /home/juiz/NGINXLUA/modules/a.o)
==21993==    by 0x804C30B: std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() (in /home/juiz/NGINXLUA/modules/a.o)
==21993==    by 0x804C271: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::~__shared_count() (in /home/juiz/NGINXLUA/modules/a.o)
==21993==    by 0x804C077: std::__shared_ptr<char, (__gnu_cxx::_Lock_policy)2>::~__shared_ptr() (in /home/juiz/NGINXLUA/modules/a.o)
==21993==    by 0x804C09A: std::shared_ptr<char>::~shared_ptr() (in /home/juiz/NGINXLUA/modules/a.o)
==21993==    by 0x804BCF8: main (in /home/juiz/NGINXLUA/modules/a.o)
==21993==  Address 0x44ec8d0 is 0 bytes inside a block of size 65,536 alloc'd
==21993==    at 0x402BE68: malloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==21993==    by 0x804BE09: C::Berkley::_allocHeap() (in /home/juiz/NGINXLUA/modules/a.o)
==21993==    by 0x804C0E0: C::Berkley::get(char const*) (in /home/juiz/NGINXLUA/modules/a.o)
==21993==    by 0x804BCA7: main (in /home/juiz/NGINXLUA/modules/a.o)
==21993== 
==21993== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)
